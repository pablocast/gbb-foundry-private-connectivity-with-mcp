<mxfile host="app.diagrams.net">
  <diagram name="Azure AI Foundry Architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="#2D2D2D">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Client -->
        <mxCell id="client" value="Client" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=3;fillColor=none;fontColor=#8b5cf6;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="380" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Azure Front Door -->
        <mxCell id="frontdoor" value="Azure&#xa;Front Door" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=3;fillColor=none;fontColor=#8b5cf6;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="240" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Connection Client to Front Door -->
        <mxCell id="edge1" edge="1" parent="1" source="client" target="frontdoor" style="strokeColor=#8b5cf6;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="380" as="sourcePoint"/>
            <mxPoint x="140" y="320" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="label1" value="www" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#8b5cf6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="110" y="340" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- Microsoft Managed VNET -->
        <mxCell id="vnet" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#14b8a6;strokeWidth=3;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="120" width="720" height="520" as="geometry" />
        </mxCell>
        <mxCell id="vnet-label" value="Microsoft&#xa;managed&#xa;VNET" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontColor=#14b8a6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="360" width="80" height="60" as="geometry" />
        </mxCell>
        
        <!-- NSG -->
        <mxCell id="nsg" value="NSG" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#14b8a6;strokeWidth=3;fillColor=none;fontColor=#14b8a6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="540" y="40" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- SNET-APIM -->
        <mxCell id="snet-apim" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="400" y="140" width="260" height="200" as="geometry" />
        </mxCell>
        <mxCell id="snet-apim-label" value="SNET-APIM" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=bottom;whiteSpace=wrap;rounded=0;fontColor=#8b5cf6;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="490" y="300" width="80" height="30" as="geometry" />
        </mxCell>
        
        <!-- Azure APIM -->
        <mxCell id="apim" value="Azure&#xa;APIM" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#f472b6;strokeWidth=3;fillColor=none;fontColor=#f472b6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="440" y="160" width="180" height="120" as="geometry" />
        </mxCell>
        
        <!-- MCP Server inside APIM -->
        <mxCell id="mcp-server" value="MCP Server&#xa;(order-mcp API)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=2;fillColor=none;fontColor=#8b5cf6;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="460" y="195" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- PE to APIM -->
        <mxCell id="pe-apim" value="PE" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#f472b6;strokeWidth=2;fillColor=#f472b6;fontColor=#FFFFFF;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="280" y="200" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="edge-fd-apim" edge="1" parent="1" source="frontdoor" target="pe-apim" style="strokeColor=#8b5cf6;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="280" />
              <mxPoint x="220" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- SNET-VM -->
        <mxCell id="snet-vm" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#14b8a6;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="400" y="380" width="260" height="200" as="geometry" />
        </mxCell>
        <mxCell id="snet-vm-label" value="SNET-VM" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=bottom;whiteSpace=wrap;rounded=0;fontColor=#14b8a6;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="490" y="540" width="80" height="30" as="geometry" />
        </mxCell>
        
        <!-- Azure VM -->
        <mxCell id="vm" value="Azure VM&#xa;(Jumpbox)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#14b8a6;strokeWidth=3;fillColor=none;fontColor=#14b8a6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="440" y="420" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- PE from VM -->
        <mxCell id="pe-vm" value="PE" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#f472b6;strokeWidth=2;fillColor=#f472b6;fontColor=#FFFFFF;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="510" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        
        <!-- SNET-AIServices -->
        <mxCell id="snet-ai" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="720" y="140" width="280" height="440" as="geometry" />
        </mxCell>
        <mxCell id="snet-ai-label" value="SNET-AIServices" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=bottom;whiteSpace=wrap;rounded=0;fontColor=#8b5cf6;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="800" y="540" width="120" height="30" as="geometry" />
        </mxCell>
        
        <!-- PE connection in AI subnet (only for VM) -->
        <mxCell id="pe-ai-foundry" value="PE" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#f472b6;strokeWidth=2;fillColor=#f472b6;fontColor=#FFFFFF;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="760" y="380" width="40" height="40" as="geometry" />
        </mxCell>
        
        <!-- Azure AI Foundry Project -->
        <mxCell id="foundry-project" value="Azure AI Foundry&#xa;Project" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=3;fillColor=none;fontColor=#8b5cf6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="820" y="320" width="160" height="160" as="geometry" />
        </mxCell>
        
        <!-- AI Agent inside Foundry -->
        <mxCell id="ai-agent" value="AI Agent" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#14b8a6;strokeWidth=2;fillColor=none;fontColor=#14b8a6;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="840" y="355" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- Connection from VM to PE to Foundry -->
        <mxCell id="edge-vm-pe-foundry" edge="1" parent="1" source="pe-vm" target="pe-ai-foundry" style="strokeColor=#14b8a6;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Connection from PE to Foundry Project -->
        <mxCell id="edge-pe-foundry" edge="1" parent="1" source="pe-ai-foundry" target="foundry-project" style="strokeColor=#f472b6;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Connection from Agent back to Front Door -->
        <mxCell id="edge-agent-fd" edge="1" parent="1" source="ai-agent" target="frontdoor" style="strokeColor=#14b8a6;strokeWidth=2;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="200" />
              <mxPoint x="140" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="label-agent-mcp" value="calls MCP" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#14b8a6;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="480" y="170" width="80" height="20" as="geometry" />
        </mxCell>
        
        <!-- VNET label at bottom -->
        <mxCell id="vnet-bottom" value="VNET" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#14b8a6;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="870" y="600" width="80" height="30" as="geometry" />
        </mxCell>
        
        <!-- Private DNS Zone -->
        <mxCell id="private-dns" value="" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#8b5cf6;strokeWidth=2;fillColor=none;fontColor=#8b5cf6;" vertex="1" parent="1">
          <mxGeometry x="460" y="630" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="dns-label" value="Private&#xa;DNS Zone" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#8b5cf6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="490" y="660" width="100" height="40" as="geometry" />
        </mxCell>
        
        <!-- DNS entries -->
        <mxCell id="dns-entries" value="privatelink.azure-api.net&#xa;privatelink.cognitiveservices.azure.com&#xa;privatelink.openai.azure.com&#xa;privatelink.services.ai.azure.com" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontColor=#888888;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="640" y="640" width="280" height="80" as="geometry" />
        </mxCell>
        
        <!-- Connection from VNET to DNS -->
        <mxCell id="edge-vnet-dns" edge="1" parent="1" source="vnet" target="private-dns">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="640" as="sourcePoint"/>
            <mxPoint x="540" y="680" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>